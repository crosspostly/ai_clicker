<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–ò-–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <div class="header">
      <h1>–ò–ò-–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</h1>
      <button id="settings-btn" class="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
    </div>

    <div class="live-mode-section">
      <h3>Live Mode</h3>
      <input id="live-api-key" type="password" placeholder="Gemini API –∫–ª—é—á" style="width: 200px;">
      <button id="toggle-live-mode" class="btn-live">üéôÔ∏è Start Live Mode</button>
      <span id="live-status" class="live-status-text">–ù–µ –∞–∫—Ç–∏–≤–µ–Ω</span>
    </div>

    <div class="mode-selector">
      <button id="mode-manual" class="mode-btn active" data-mode="manual">–†—É—á–Ω–æ–π</button>
      <button id="mode-auto" class="mode-btn" data-mode="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π</button>
    </div>

    <div id="manual-mode" class="mode-content active">
      <div class="controls">
        <button id="start-recording" class="btn-primary" title="–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å –¥–µ–π—Å—Ç–≤–∏–π">üî¥ –ó–∞–ø–∏—Å—å</button>
        <button id="stop-recording" class="btn-secondary" disabled title="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å">‚èπÔ∏è –°—Ç–æ–ø</button>
      </div>
      <div class="actions-list">
        <h3>–ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</h3>
        <div id="actions-container"></div>
        <button id="clear-actions" class="btn-danger" title="–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>
      <div class="playback">
        <h3>–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:</h3>
        <div class="playback-controls">
          <input type="range" id="playback-speed" min="0.5" max="3" step="0.5" value="1" title="–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è">
          <span id="speed-label">1x</span>
        </div>
        <button id="play-actions" class="btn-primary" disabled title="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è">‚ñ∂Ô∏è –ò–≥—Ä–∞—Ç—å</button>
        <button id="export-actions" class="btn-secondary" disabled title="–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤ JSON">üì• –≠–∫—Å–ø–æ—Ä—Ç</button>
        <button id="import-actions" class="btn-secondary" title="–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ JSON">üì§ –ò–º–ø–æ—Ä—Ç</button>
      </div>
    </div>

    <div id="auto-mode" class="mode-content">
      <div class="ai-panel">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ò–ò</h3>
        <textarea id="ai-instructions" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –ü—Ä–∏–º–µ—Ä: '–ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –í–æ–π—Ç–∏, –≤–≤–µ–¥–∏ email, –∑–∞—Ç–µ–º –ø–∞—Ä–æ–ª—å, –Ω–∞–∂–º–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å'"></textarea>
        <div class="button-group">
          <button id="start-auto" class="btn-primary" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
          <button id="stop-auto" class="btn-secondary" disabled title="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é">‚èπÔ∏è –°—Ç–æ–ø</button>
        </div>
      </div>
      <div class="status-section">
        <h3>–°—Ç–∞—Ç—É—Å:</h3>
        <div id="status-text" class="status-text">üïê –û–∂–∏–¥–∞–Ω–∏–µ</div>
        <div id="status-log" class="status-log"></div>
      </div>
    </div>
  </div>

  <input type="file" id="import-file-input" accept=".json" class="hidden">

  <script type="module" src="index.js"></script>
</body>
</html>
